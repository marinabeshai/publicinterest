import os
import pandas as pd

# --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
# @TODO
# --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
our_path = '../../../curr/'
path_csv = "results/csv"
path_html = "results/html"
# --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------


# --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
# @TODO
# --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
def make_dir(path):
    cwd = os.getcwd()
    try:
        if path:
            dir = "{cwd}/{path}".format(cwd=cwd, path=path)
            os.makedirs(dir)
    except FileExistsError:
        pass
# --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

# --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
# @TODO
# --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
def isvalid(s):
    return not pd.isnull(s) and s != "--"
# --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------


# ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
# increment_dictionary( d={'Jack': 1, 'Sam':35}, key='Sam') --> d={'Jack': 1, 'Sam':36}
# increment_dictionary( d={'Jack': 1, 'Sam':35}, key='Percy') --> d={'Jack': 1, 'Sam':35, 'Percy':1}
# ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
def increment_dictionary(d, key):
    old = d.get(key, 0)
    d.update({key: (old + 1)})
    return d
# ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

# ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
# increment_dictionary( d={'Jack': 1, 'Sam':35}, key='Sam') --> d={'Jack': 1, 'Sam':36}
# increment_dictionary( d={'Jack': 1, 'Sam':35}, key='Percy') --> d={'Jack': 1, 'Sam':35, 'Percy':1}
# ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
def add_key_dictionary(d, key):
    if key in d:
        raise Exception("This isn't possible.")
    d.update({key: 0})
    return d
# ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------


# ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
# increment_dictionary_in_dictionary(d={'APPL': {'Jack': 1}, 'AMZ': {'Sam': 50, 'Max': 23}}, key:'AMZ', inner_key='Sam') --> d={'APPL': {'Jack': 1}, 'AMZ': {'Sam': 51, 'Max': 23}}
# increment_dictionary_in_dictionary(d={'APPL': {'Jack': 1}, 'AMZ': {'Sam': 50, 'Max': 23}}, key:'AMZ', inner_key='M') --> d={'APPL': {'Jack': 1}, 'AMZ': {'M': 1, 'Sam': 50, 'Max': 23}}
# ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
def increment_dictionary_in_dictionary(d, key, inner_key):
    if key in d:
        key_d = d.get(key, 0)

        if key_d == 0:
            raise Exception("This isn't possible.")

        key_d = increment_dictionary(key_d, inner_key)
        d.update({key: key_d})
    else:
        d.update({key: {inner_key: 1}})
    return d
# ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
